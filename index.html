<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏–Ω–Ω–∞—è –®–∫–æ–ª–∞</title>
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Telegram */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--tg-theme-bg-color, #fff);
            color: var(--tg-theme-text-color, #000);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .container {
            padding: 20px;
            flex-grow: 1;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        h1, h2, h3 { margin-top: 0; }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background-color: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #fff);
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            font-weight: 600;
        }

        .btn:active { opacity: 0.8; }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫—É—Ä—Å–æ–≤ */
        .course-item {
            border-left: 5px solid var(--tg-theme-button-color, #2481cc);
            padding-left: 10px;
            margin-bottom: 20px;
        }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
            padding: 10px 0;
            position: sticky;
            bottom: 0;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        .nav-item {
            padding: 10px;
            cursor: pointer;
            opacity: 0.6;
            text-align: center;
            font-size: 14px;
        }

        .nav-item.active {
            opacity: 1;
            font-weight: bold;
            color: var(--tg-theme-button-color, #2481cc);
        }

        /* –°–∫—Ä—ã—Ç–∏–µ/–ø–æ–∫–∞–∑ —ç–∫—Ä–∞–Ω–æ–≤ */
        .screen { display: none; }
        .screen.active { display: block; }

        /* –ê–≤–∞—Ç–∞—Ä–∫–∞ */
        .user-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--tg-theme-button-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div class="container">
        <div id="screen-profile" class="screen active">
            <div class="user-header">
                <div class="avatar" id="avatar-placeholder">üë§</div>
                <div>
                    <h2 id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
                    <span id="user-username" style="opacity: 0.7">@username</span>
                </div>
            </div>

            <div class="card">
                <h3>üìà –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
                <p>–ö—É—Ä—Å—ã –µ—â–µ –Ω–µ –Ω–∞—á–∞—Ç—ã.</p>
                <p style="font-size: 14px; opacity: 0.8;">–ü—Ä–æ–π–¥–µ–Ω–æ —É—Ä–æ–∫–æ–≤: 0 / 20</p>
                <div style="background:#ddd; height: 10px; border-radius:5px; margin-top:5px;">
                    <div style="background:var(--tg-theme-button-color); width: 0%; height:100%; border-radius:5px;"></div>
                </div>
            </div>

            <button class="btn" onclick="showPopup('–°–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–µ!')">üîë –ö—É–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø</button>
        </div>

        <div id="screen-school" class="screen">
            <h2>üç∑ –í–∏–Ω–Ω–∞—è —à–∫–æ–ª–∞</h2>
            
            <div class="card course-item">
                <h3>üéì –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å</h3>
                <p>–û—Å–Ω–æ–≤—ã –≤–∏–Ω–æ–¥–µ–ª–∏—è, –≥–ª–∞–≤–Ω—ã–µ —Å–æ—Ä—Ç–∞ –∏ —Ä–µ–≥–∏–æ–Ω—ã.</p>
                <button class="btn" onclick="showPopup('–ö—É—Ä—Å –ë–∞–∑–æ–≤—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!')">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</button>
            </div>

            <div class="card course-item">
                <h3>üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å</h3>
                <p>–ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —Å—Ç–∏–ª–∏—Å—Ç–∏–∫—É –∏ –¥–µ–≥—É—Å—Ç–∞—Ü–∏—é.</p>
                <button class="btn" onclick="showPopup('–ö—É—Ä—Å –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!')">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</button>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</div>
        <div class="nav-item" onclick="switchTab('school')">üç∑ –®–∫–æ–ª–∞</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe.user;
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
        if (user) {
            document.getElementById('user-name').innerText = `${user.first_name} ${user.last_name || ''}`;
            document.getElementById('user-username').innerText = user.username ? `@${user.username}` : 'ID: ' + user.id;
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å —Ñ–æ—Ç–æ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º API —Å–ª–æ–∂–Ω–µ–µ, –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω–∏—Ü–∏–∞–ª—ã)
            document.getElementById('avatar-placeholder').innerText = user.first_name.charAt(0);
        } else {
            document.getElementById('user-name').innerText = "–ì–æ—Å—Ç—å";
        }

        // –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π
            document.getElementById(`screen-${tabName}`).classList.add('active');
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏
            if(tabName === 'profile') {
                document.querySelectorAll('.nav-item')[0].classList.add('active');
                tg.MainButton.hide(); // –°–∫—Ä—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É –≤ –ø—Ä–æ—Ñ–∏–ª–µ
            } else {
                document.querySelectorAll('.nav-item')[1].classList.add('active');
                tg.MainButton.text = "–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π";
                tg.MainButton.show();
                tg.MainButton.onClick(() => {
                    tg.sendData("Support_Request");
                });
            }
        }

        // –ü–æ–ø–∞–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (Native Telegram)
        function showPopup(message) {
            tg.showPopup({
                title: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
                message: message,
                buttons: [{type: 'ok'}]
            });
        }
    </script>
</body>
</html>
